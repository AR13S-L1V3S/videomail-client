<!DOCTYPE html>
<html>
    <head>
        <title>videomail-client examples</title>

        <style type="text/css">
            input[type="text"],
            .buttons    { margin: 1em 0;}
            .hide       { display: none; }
            #startOver  { display: block; }
        </style>
    </head>
    <body>
        <h1>Wrap into a form, validation, have a direct submit button and display the record</h1>

        <form id="videomail">
            <input name='subject' type='text' placeholder='Enter a subject' required/>
        </form>

        <div id="viewVideo" class="hide">
            <h2></h2> <!-- Title placeholder -->
            <video class="replay"></video>
            <button id='startOver'>&#x25c0; Start over</button>
        </div>

        <script src="/videomail-client.js"></script>
        <script>
            var VideomailClient = require('videomail-client'),

                viewVideo       = document.getElementById('viewVideo'),
                startOverButton = document.getElementById('startOver'),

                videomailClient

            var onSubmitted = function(videomail) {
                viewVideo.querySelector('h2').innerHTML = videomail.subject

                this.replay(viewVideo, videomail)

                startOverButton.onclick = function() {
                    videomailClient.startOver()
                }
            }

            var videomailClient = new VideomailClient({
                debug: true,
                video: {
                    countdown: false
                }
            })

            videomailClient.show()

            videomailClient.on(
                videomailClient.events.SUBMITTED,
                onSubmitted.bind(videomailClient)
            )
        </script>
    </body>
</html>
